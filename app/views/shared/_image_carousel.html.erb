<div data-controller="carousel" class="relative rounded-xl overflow-hidden">
  <div class="relative">
    <% images.each_with_index do |image, index| %>
      <div data-carousel-target="slide" 
           class="<%= index.zero? ? '' : 'hidden' %> w-full transition-all duration-500 ease-in-out">
        <%= image_tag image[:url], 
            class: "w-full aspect-[4/3] object-cover",
            alt: image[:title],
            loading: index.zero? ? "eager" : "lazy",
            width: "800",
            height: "600" %>
        
        <div class="absolute inset-0 bg-gradient-to-t from-black/60 via-black/20 to-transparent">
          <div class="absolute bottom-4 left-4">
            <p class="text-white font-medium"><%= image[:title] %></p>
          </div>
        </div>
      </div>
    <% end %>
  </div>

  <!-- Navigation Buttons -->
  <button data-action="carousel#previous" 
          class="absolute left-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 hover:bg-white text-gray-800 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
    </svg>
  </button>

  <button data-action="carousel#next"
          class="absolute right-2 top-1/2 -translate-y-1/2 p-2 rounded-full bg-white/80 hover:bg-white text-gray-800 transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
    </svg>
  </button>
</div> 