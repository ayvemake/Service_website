<body class="bg-blue-400 font-sans">



  <div class="container mx-auto px-4 py-8 sm:py-4">
    <!-- En-tête avec titre et boutons de sélection -->
    <div class="text-center max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pt-16">
      <h1 class="text-4xl font-bold text-gray-900 mb-8">
        İstanbul'da profesyonel sıhhi tesisat ve boya hizmeti.
      </h1>
      
      <div class="flex justify-center gap-4 mb-12">
        <button onclick="showServiceType('tesisat')" 
                class="inline-flex items-center px-6 py-3 rounded-lg text-lg font-medium transition-colors duration-200 service-btn tesisat-btn active">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"/>
          </svg>
          Tesisat Hizmetleri
        </button>
        
        <button onclick="showServiceType('boya')"
                class="inline-flex items-center px-6 py-3 rounded-lg text-lg font-medium transition-colors duration-200 service-btn boya-btn">
          <svg class="w-6 h-6 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zm0 0h12a2 2 0 002-2v-4a2 2 0 00-2-2h-2.343M11 7.343l1.657-1.657a2 2 0 012.828 0l2.829 2.829a2 2 0 010 2.828l-8.486 8.485M7 17h.01"/>
          </svg>
          Boya Hizmetleri
        </button>
      </div>
    </div>

    <!-- Carte de service dynamique -->
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 pb-16">
      <!-- Carte Tesisat -->
      <div id="tesisat-card" class="service-card active">
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <div class="relative h-64">
            <%= image_tag "services/sanitary1.png", class: "w-full h-full object-cover" %>
            <div class="absolute inset-0 bg-gradient-to-t from-emerald-900/80 to-transparent"></div>
          </div>
          <div class="p-8">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Su Tesisatı ve Tıkanıklık Hizmetleri</h3>
                <p class="text-gray-600 mb-6">
                  İstanbul genelinde profesyonel tesisat çözümleri sunuyoruz. Kameralı cihazlarla tıkanıklık açma, robotik sistemlerle kaçak tespiti, son teknoloji ekipmanlarla gider açma ve tamir hizmetleri veriyoruz. Lavabo, tuvalet, mutfak gideri, pimaş borusu gibi her türlü tesisat sorununuza uzman ekibimizle 7/24 müdahale ediyoruz. Kırmadan dökmeden garantili çözümler üretiyoruz.
                </p>
              </div>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-emerald-100 text-emerald-800">
                7/24 Hizmet
              </span>
            </div>
            
            <button onclick="showServiceDetails('Su Tesisatı', 'description', 'tesisat')" 
                    class="w-full inline-flex items-center justify-center px-6 py-4 bg-emerald-600 text-white rounded-xl hover:bg-emerald-700 transition-colors duration-200">
              <span class="text-lg font-medium">Detaylı Bilgi</span>
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Carte Boya (initialement cachée) -->
      <div id="boya-card" class="service-card hidden">
        <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
          <div class="relative h-64">
            <%= image_tag "services/paint1.png", class: "w-full h-full object-cover" %>
            <div class="absolute inset-0 bg-gradient-to-t from-amber-900/80 to-transparent"></div>
          </div>
          <div class="p-8">
            <div class="flex items-start justify-between">
              <div>
                <h3 class="text-2xl font-bold text-gray-900 mb-2">Boya ve Dekorasyon Hizmetleri</h3>
                <p class="text-gray-600 mb-6">
                  İstanbul'da iç ve dış cephe boya işleriniz için profesyonel çözümler sunuyoruz. Alçı, macun, saten alçı, duvar kağıdı, dekoratif boya ve lake boya uygulamalarını titizlikle yapıyoruz. Uzman ekibimiz, yüksek kaliteli malzemeler ve modern tekniklerle evinizin veya iş yerinizin görünümünü tamamen yeniliyoruz. Her projeye özel renk danışmanlığı ve ücretsiz keşif hizmeti veriyoruz.
                </p>
              </div>
              <span class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-800">
                Garantili İşçilik
              </span>
            </div>
            
            <button onclick="showServiceDetails('Boya Hizmetleri', 'İç ve dış cephe boya işleriniz için profesyonel çözümler sunuyoruz...', 'boya')" 
                    class="w-full inline-flex items-center justify-center px-6 py-4 bg-amber-600 text-white rounded-xl hover:bg-amber-700 transition-colors duration-200">
              <span class="text-lg font-medium">Detaylı Bilgi</span>
              <svg class="w-5 h-5 ml-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>

    

  



  <!-- Section Services avec Images -->
  <div class="container mx-auto px-4 py-16">
    <!-- Tesisat Section -->
    <div class="mb-24">
      <div class="flex flex-col lg:flex-row items-center gap-12">
        <!-- Image Grid -->
        <div class="lg:w-1/2 grid grid-cols-2 gap-4">
          <%= image_tag "services/sanitary1.webp", class: "rounded-lg shadow-lg w-full h-64 object-cover transform hover:scale-105 transition-transform duration-300" %>
          <%= image_tag "services/sanitary2.webp", class: "rounded-lg shadow-lg w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300 mt-8" %>
          <%= image_tag "services/sanitary3.webp", class: "rounded-lg shadow-lg w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300" %>
          <%= image_tag "services/sanitary1.webp", class: "rounded-lg shadow-lg w-full h-64 object-cover transform hover:scale-105 transition-transform duration-300 -mt-8" %>
        </div>
        
        <!-- Text Content -->
        <div class="lg:w-1/2">
          <h3 class="text-2xl font-bold text-emerald-600 mb-6">Su ve Tesisat Hizmetleri</h3>
          <div class="space-y-6">
            <% @tesisat_services.each do |service| %>
              <div class="flex items-start">
                <div class="flex-shrink-0">
                  <%= render 'shared/icons/pipe', class: "w-6 h-6 text-emerald-500 mt-1" %>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold"><%= service.name %></h4>
                  <p class="text-gray-600"><%= service.description %></p>
                  <div class="mt-4">
                    <button onclick="showServiceDetails('<%= service.name %>', '<%= service.description %>', 'tesisat')" 
                            class="inline-flex items-center text-emerald-600 hover:text-emerald-700">
                      Detaylar
                      <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>

    <!-- Boya Section -->
    <div>
      <div class="flex flex-col lg:flex-row-reverse items-center gap-12">
        <!-- Image Grid -->
        <div class="lg:w-1/2 grid grid-cols-2 gap-4">
          <%= image_tag "services/paint1.webp", class: "rounded-lg shadow-lg w-full h-64 object-cover transform hover:scale-105 transition-transform duration-300" %>
          <%= image_tag "services/paint2.webp", class: "rounded-lg shadow-lg w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300 mt-8" %>
          <%= image_tag "services/paint3.webp", class: "rounded-lg shadow-lg w-full h-48 object-cover transform hover:scale-105 transition-transform duration-300" %>
          <%= image_tag "services/paint1.webp", class: "rounded-lg shadow-lg w-full h-64 object-cover transform hover:scale-105 transition-transform duration-300 -mt-8" %>
        </div>
        
        <!-- Text Content -->
        <div class="lg:w-1/2">
          <h3 class="text-2xl font-bold text-amber-600 mb-6">Boya ve Dekorasyon Hizmetleri</h3>
          <div class="space-y-6">
            <% @boya_services.each do |service| %>
              <div class="flex items-start">
                <div class="flex-shrink-0">
                  <%= render 'shared/icons/paint_brush', class: "w-6 h-6 text-amber-500 mt-1" %>
                </div>
                <div class="ml-4">
                  <h4 class="text-lg font-semibold"><%= service.name %></h4>
                  <p class="text-gray-600"><%= service.description %></p>
                  <div class="mt-4">
                    <button onclick="showServiceDetails('<%= service.name %>', '<%= service.description %>', 'boya')" 
                            class="inline-flex items-center text-amber-600 hover:text-amber-700">
                      Detaylar
                      <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                      </svg>
                    </button>
                  </div>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>

  

 
  


  <%= javascript_tag do %>
    function showCategory(category) {
      // Cacher tous les contenus
      document.querySelectorAll('.service-content').forEach(content => {
        content.classList.add('hidden');
      });
      
      // Afficher le contenu sélectionné
      document.getElementById(category + '-services').classList.remove('hidden');
      
      // Mettre à jour les styles des boutons
      document.querySelectorAll('.tab-button').forEach(button => {
        button.classList.remove('active');
      });
      event.currentTarget.classList.add('active');
    }

    function showServiceType(type) {
      // Mise à jour des boutons
      document.querySelectorAll('.service-btn').forEach(btn => btn.classList.remove('active'));
      document.querySelector(`.${type}-btn`).classList.add('active');
      
      // Mise à jour des cartes
      document.querySelectorAll('.service-card').forEach(card => card.classList.remove('active'));
      document.getElementById(`${type}-card`).classList.add('active');
    }
  <% end %>

  <style>
    .tab-button.active {
      background-color: rgb(16 185 129 / 0.2); /* Pour tesisat */
      border: 2px solid rgb(16 185 129);
    }
    
    .tab-button.active:nth-child(2) {
      background-color: rgb(245 158 11 / 0.2); /* Pour boya */
      border: 2px solid rgb(245 158 11);
    }

    .service-btn {
      background-color: #f3f4f6;
      color: #6b7280;
    }
    
    .service-btn.active {
      background-color: #059669;
      color: white;
    }
    
    .service-btn.tesisat-btn.active {
      background-color: #059669;
    }
    
    .service-btn.boya-btn.active {
      background-color: #d97706;
    }
    
    .service-card {
      display: none;
    }
    
    .service-card.active {
      display: block;
    }
  </style>

    </div>
    

      <% if @testimonials&.any? %>
        <section class="testimonials bg-gray-50 py-16 mt-12">
          <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="text-center">
              <h2 class="text-3xl font-bold tracking-tight text-gray-900 sm:text-4xl">
                Müşterilerimiz Ne Diyor?
              </h2>
              <p class="mt-4 text-lg text-gray-500">
                Hizmet verdiğimiz müşterilerimizin deneyimleri
              </p>
            </div>

            <div class="mt-12 grid gap-8 md:grid-cols-2 lg:grid-cols-3">
              <% @testimonials.each do |testimonial| %>
                <div class="bg-white rounded-lg shadow-lg p-6">
                  <div class="flex items-center mb-4">
                    <div class="flex-shrink-0">
                      <%= image_tag testimonial.image_url.presence || "default_avatar.jpg",
                          class: "h-12 w-12 rounded-full object-cover" %>
                    </div>
                    <div class="ml-4">
                      <h3 class="text-lg font-medium text-gray-900">
                        <%= testimonial.name %>
                      </h3>
                      <p class="text-sm text-gray-500">
                        <%= l(testimonial.created_at, format: :short) %>
                      </p>
                    </div>
                  </div>
                  <div class="mt-2">
                    <!-- Étoiles -->
                    <div class="flex items-center mb-2">
                      <% 5.times do |i| %>
                        <svg class="h-5 w-5 <%= i < (testimonial.rating || 5) ? 'text-yellow-400' : 'text-gray-300' %>" 
                              fill="currentColor" viewBox="0 0 20 20">
                          <path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"/>
                        </svg>
                      <% end %>
                    </div>
                    <!-- Contenu -->
                    <p class="text-gray-600 italic">
                      "<%= testimonial.content %>"
                    </p>
                  </div>
                </div>
              <% end %>
            </div>
          </div>
        </section>
      <% end %>

    </div> 
      <%= render 'shared/contact_section' %>
      
  <!-- Modal -->
  <div id="service-modal" class="fixed inset-0 bg-black/50 flex items-center justify-center hidden z-50">
    <div id="modal-content" class="bg-white w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-xl relative">
      <!-- Le contenu sera injecté ici par JavaScript -->
    </div>
  </div>

  <% content_for :scripts do %>
    <script>
      let currentImageIndex = 0;
      let modalImages = null;

      function showServiceDetails(name, description, type) {
        if (type === 'tesisat') {
          description = `
            <div class="bg-emerald-50 rounded-lg p-6 border border-emerald-200 mb-8">
              <h4 class="text-lg font-semibold text-emerald-800 mb-4">Sunduğumuz Tesisat Hizmetleri</h4>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- Tıkanıklık Açma -->
                <div class="space-y-3">
                  <h5 class="font-medium text-emerald-700">Tıkanıklık Açma</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Lavabo Tıkanıklığı
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Tuvalet Tıkanıklığı
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Mutfak Gideri
                    </li>
                  </ul>
                </div>

                <!-- Kaçak Tespiti -->
                <div class="space-y-3">
                  <h5 class="font-medium text-emerald-700">Kaçak Tespiti</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Kameralı Tespit
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Termal Kamera
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Ses Dinleme
                    </li>
                  </ul>
                </div>

                <!-- Tamir ve Bakım -->
                <div class="space-y-3">
                  <h5 class="font-medium text-emerald-700">Tamir ve Bakım</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Musluk Tamiri
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Klozet Tamiri
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Petek Temizliği
                    </li>
                  </ul>
                </div>

                <!-- Diğer Hizmetler -->
                <div class="space-y-3">
                  <h5 class="font-medium text-emerald-700">Diğer Hizmetler</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Pimaş Temizliği
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Gider Koku Tespiti
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-emerald-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Yeni Tesisat
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          `;
        } else if (type === 'boya') {
          description = `
            <div class="bg-amber-50 rounded-lg p-6 border border-amber-200 mb-8">
              <h4 class="text-lg font-semibold text-amber-800 mb-4">Sunduğumuz Boya Hizmetleri</h4>
              
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <!-- İç Mekan Boya -->
                <div class="space-y-3">
                  <h5 class="font-medium text-amber-700">İç Mekan Boya</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Duvar Boyama
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Tavan Boyama
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Alçı ve Macun
                    </li>
                  </ul>
                </div>

                <!-- Dış Cephe Boya -->
                <div class="space-y-3">
                  <h5 class="font-medium text-amber-700">Dış Cephe Boya</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Dış Cephe Boyama
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Mantolama
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                        İzolasyon
                    </li>
                  </ul>
                </div>

                <!-- Özel Uygulamalar -->
                <div class="space-y-3">
                  <h5 class="font-medium text-amber-700">Özel Uygulamalar</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Dekoratif Boya
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Lake Boya
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Duvar Kağıdı
                    </li>
                  </ul>
                </div>

                <!-- Hazırlık İşlemleri -->
                <div class="space-y-3">
                  <h5 class="font-medium text-amber-700">Hazırlık İşlemleri</h5>
                  <ul class="space-y-2">
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Alçı İşleri
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Saten Alçı
                    </li>
                    <li class="flex items-center text-gray-700">
                      <svg class="w-5 h-5 text-amber-500 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                      </svg>
                      Macun Çekimi
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          `;
        }
        modalImages = type === 'tesisat' ? {
          cover: '<%= image_tag "services/sanitary1.png", class: "w-full h-full object-cover" %>',
          gallery: [
            '<%= image_tag "services/sanitary1.png", class: "w-full h-full object-cover" %>',
            '<%= image_tag "services/sanitary2.webp", class: "w-full h-full object-cover" %>',
            '<%= image_tag "services/sanitary3.webp", class: "w-full h-full object-cover" %>'
          ]
        } : {
          cover: '<%= image_tag "services/paint1.png", class: "w-full h-full object-cover" %>',
          gallery: [
            '<%= image_tag "services/paint1.png", class: "w-full h-full object-cover" %>',
            '<%= image_tag "services/paint2.webp", class: "w-full h-full object-cover" %>',
            '<%= image_tag "services/paint3.webp", class: "w-full h-full object-cover" %>'
          ]
        };

        const modal = document.getElementById('service-modal');
        const content = document.getElementById('modal-content');

        const serviceUrl = type === 'tesisat' ? 
          '<%= hizmetler_path(category: "tesisat") %>' : 
          '<%= hizmetler_path(category: "boya") %>';

        currentImageIndex = 0;
        
        content.innerHTML = `
          <div>
            <div class="relative h-64 overflow-hidden rounded-t-xl">
              ${modalImages.cover}
              <div class="absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"></div>
              <h3 class="absolute bottom-6 left-8 text-3xl font-bold text-white">${name}</h3>
            </div>

            <button onclick="closeModal()" 
                    class="absolute top-4 right-4 p-4 bg-white rounded-full shadow-lg hover:bg-gray-100 transition-colors z-50">
              <svg class="w-6 h-6 text-gray-800" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
              </svg>
            </button>

            <div class="p-8 space-y-8">
              ${description}

              <div>
                <h4 class="text-lg font-semibold text-gray-900 mb-4">Örnek Çalışmalarımız</h4>
                <div class="relative max-w-3xl mx-auto mb-4">
                  <div id="main-image-content" class="relative h-64 rounded-lg overflow-hidden">
                    ${modalImages.gallery[0]}
                  </div>
                  <button onclick="navigateGallery('prev', event)" class="absolute left-2 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/75">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                    </svg>
                  </button>
                  <button onclick="navigateGallery('next', event)" class="absolute right-2 top-1/2 -translate-y-1/2 bg-black/50 text-white p-2 rounded-full hover:bg-black/75">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
                    </svg>
                  </button>
                </div>
                <div class="flex justify-center gap-2">
                  ${modalImages.gallery.map((img, idx) => `
                    <button onclick="updateMainImage(${idx}, event)" class="thumbnail-container w-20 h-20 rounded-lg overflow-hidden">
                      ${img}
                    </button>
                  `).join('')}
                </div>
              </div>

              <!-- Boutons d'action -->
              <div class="flex flex-col sm:flex-row gap-4 pt-6 border-t border-gray-200">
                <a href="tel:+905555555555" 
                   class="flex-1 inline-flex items-center justify-center px-6 py-4 bg-${type === 'tesisat' ? 'emerald' : 'amber'}-600 text-white rounded-xl hover:bg-${type === 'tesisat' ? 'emerald' : 'amber'}-700 transition-colors duration-200">
                  <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
                  </svg>
                  <span class="font-medium">Hemen Arayın</span>
                </a>

                <a href="${serviceUrl}" 
                   class="flex-1 inline-flex items-center justify-center px-6 py-4 border border-gray-300 rounded-xl hover:bg-gray-50 transition-colors duration-200">
                  <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"/>
                  </svg>
                  <span class="font-medium">Tüm ${type === 'tesisat' ? 'Tesisat' : 'Boya'} Hizmetleri</span>
                </a>
              </div>
            </div>
          </div>
        `;

        modal.classList.remove('hidden');
        modal.classList.add('fade-in');
        document.body.style.overflow = 'hidden';
      }

      function navigateGallery(direction, event) {
        event.preventDefault();
        event.stopPropagation();
        
        if (direction === 'next') {
          currentImageIndex = (currentImageIndex + 1) % modalImages.gallery.length;
        } else {
          currentImageIndex = (currentImageIndex - 1 + modalImages.gallery.length) % modalImages.gallery.length;
        }
        
        updateMainImage(currentImageIndex);
      }

      function updateMainImage(index, event) {
        if (event) {
          event.preventDefault();
          event.stopPropagation();
        }
        
        currentImageIndex = index;
        const mainImageContent = document.getElementById('main-image-content');
        
        // Mettre à jour uniquement le contenu de l'image
        mainImageContent.classList.remove('image-fade');
        void mainImageContent.offsetWidth;
        mainImageContent.classList.add('image-fade');
        mainImageContent.innerHTML = modalImages.gallery[currentImageIndex];
        
        updateThumbnailSelection();
      }

      function updateThumbnailSelection() {
        // Mettre à jour la sélection des miniatures
        document.querySelectorAll('.thumbnail-container').forEach((thumb, idx) => {
          if (idx === currentImageIndex) {
            thumb.classList.add('ring-2', 'ring-offset-2', 'ring-emerald-500');
          } else {
            thumb.classList.remove('ring-2', 'ring-offset-2', 'ring-emerald-500');
          }
        });
      }

      function closeModal() {
        const modal = document.getElementById('service-modal');
        modal.classList.add('fade-out');
        
        setTimeout(() => {
          modal.classList.add('hidden');
          modal.classList.remove('fade-out');
          document.body.style.overflow = '';
        }, 200);
      }

      document.getElementById('service-modal').addEventListener('click', function(e) {
        if (e.target === this) {
          closeModal();
        }
      });
    </script>

    <style>
      .fade-in {
        animation: fadeIn 0.2s ease-out;
      }

      .fade-out {
        animation: fadeOut 0.2s ease-out;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      @keyframes fadeOut {
        from { opacity: 1; }
        to { opacity: 0; }
      }

      .gallery-image {
        transition: transform 0.3s ease-in-out;
      }

      .thumbnail {
        transition: all 0.3s ease-in-out;
      }

      .thumbnail:hover {
        transform: scale(1.05);
      }

      /* Animation pour le changement d'image */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .image-fade {
        animation: fadeIn 0.3s ease-in-out;
      }

      /* Suppression des styles de transformation et transition non nécessaires */
      .modal-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      /* Animation pour le changement d'image */
      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .image-fade {
        animation: fadeIn 0.3s ease-in-out;
      }

      .image-fade {
        animation: fadeIn 0.3s ease-in-out;
      }

      @keyframes fadeIn {
        from { opacity: 0; }
        to { opacity: 1; }
      }

      .thumbnail-container {
        transition: all 0.2s ease-in-out;
      }

      .thumbnail-container:hover {
        opacity: 0.9;
      }

      #main-image-content {
        width: 100%;
        height: 100%;
        position: relative;
      }

      /* Style pour agrandir la zone de clic du bouton fermer */
      .modal-close-button {
        padding: 1rem;
        touch-action: manipulation;
      }
    </style>
  <% end %>

</body>







