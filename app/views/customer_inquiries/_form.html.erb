<%= form_with(
  model: customer_inquiry, 
  local: false, 
  html: { 
    id: 'customer_inquiry_form', 
    class: 'space-y-4', 
    data: { 
      controller: 'contact-form',
      action: 'turbo:submit-end->contact-form#handleSubmit'
    }
  }
) do |f| %>
  <div>
    <%= f.label :name, 'Ad Soyad', class: 'block mb-2 text-gray-700' %>
    <%= f.text_field :name, 
        class: 'w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500',
        required: true %>
  </div>

  <div>
    <%= f.label :phone, 'Telefon Numarası', class: 'block mb-2 text-gray-700' %>
    <%= f.telephone_field :phone, 
        class: 'w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500',
        data: { 
          'contact-form-target': 'phoneInput',
          pattern: '\+?90\s?[0-9]{3}\s?[0-9]{3}\s?[0-9]{2}\s?[0-9]{2}'
        },
        required: true %>
  </div>

  <div>
    <%= f.label :email, 'E-posta (İsteğe Bağlı)', class: 'block mb-2 text-gray-700' %>
    <%= f.email_field :email, 
        class: 'w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500' %>
  </div>

  <div>
    <%= f.label :message, 'Mesajınız', class: 'block mb-2 text-gray-700' %>
    <%= f.text_area :message, 
        rows: 4, 
        class: 'w-full px-4 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500',
        required: true,
        minlength: 10,
        maxlength: 500 %>
  </div>

  <%= f.submit 'Gönder', 
      class: 'bg-blue-600 text-white px-6 py-2 rounded-full hover:bg-blue-700 transition',
      data: { 'contact-form-target': 'submitButton' } %>
<% end %> 